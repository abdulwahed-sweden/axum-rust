# Internationalization (i18n)

Complete guide to implementing multilingual support with RTL/LTR layouts in the Ferox Theme System.

## Table of Contents

- [Overview](#overview)
- [Translation System](#translation-system)
- [RTL/LTR Support](#rtlltr-support)
- [Language Toggle](#language-toggle)
- [Number and Currency Formatting](#number-and-currency-formatting)
- [Best Practices](#best-practices)

---

## Overview

The Ferox Theme System supports Arabic (RTL) and English (LTR) languages with:

- Dynamic text translation via `data-i18n` attributes
- Automatic layout direction switching
- Number formatting that respects language context
- Persistent language preference via localStorage

### Architecture

```
User changes language â†’ JavaScript updates translations â†’ Direction changes â†’ Layout adjusts
```

---

## Translation System

### Define Translations

```javascript
const translations = {
    ar: {
        // Navigation
        home: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
        features: "Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª",
        docs: "Ø§Ù„ØªÙˆØ«ÙŠÙ‚",
        api: "API",

        // Hero Section
        heroTitle: "Ù†Ø¸Ø§Ù… Ferox Theme",
        heroSubtitle: "Ù†Ø¸Ø§Ù… ØªØµÙ…ÙŠÙ… Ø­Ø¯ÙŠØ« ÙˆÙ…ØªÙƒØ§Ù…Ù„",

        // Statistics
        users: "Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†",
        revenue: "Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª",
        orders: "Ø§Ù„Ø·Ù„Ø¨Ø§Øª",
        growth: "Ø§Ù„Ù†Ù…Ùˆ",

        // Actions
        getStarted: "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†",
        learnMore: "Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯",
        submit: "Ø¥Ø±Ø³Ø§Ù„",
        cancel: "Ø¥Ù„ØºØ§Ø¡",

        // Status
        active: "Ù†Ø´Ø·",
        pending: "Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",
        completed: "Ù…ÙƒØªÙ…Ù„",
        failed: "ÙØ´Ù„"
    },
    en: {
        // Navigation
        home: "Home",
        features: "Features",
        docs: "Docs",
        api: "API",

        // Hero Section
        heroTitle: "Ferox Theme System",
        heroSubtitle: "A modern, comprehensive design system",

        // Statistics
        users: "Users",
        revenue: "Revenue",
        orders: "Orders",
        growth: "Growth",

        // Actions
        getStarted: "Get Started",
        learnMore: "Learn More",
        submit: "Submit",
        cancel: "Cancel",

        // Status
        active: "Active",
        pending: "Pending",
        completed: "Completed",
        failed: "Failed"
    }
};
```

### HTML with i18n Attributes

```html
<!-- Translatable text elements -->
<h1 data-i18n="heroTitle">Ù†Ø¸Ø§Ù… Ferox Theme</h1>
<p data-i18n="heroSubtitle">Ù†Ø¸Ø§Ù… ØªØµÙ…ÙŠÙ… Ø­Ø¯ÙŠØ« ÙˆÙ…ØªÙƒØ§Ù…Ù„</p>

<!-- Navigation -->
<nav>
    <a href="#" data-i18n="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
    <a href="#" data-i18n="features">Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª</a>
    <a href="#" data-i18n="docs">Ø§Ù„ØªÙˆØ«ÙŠÙ‚</a>
</nav>

<!-- Buttons -->
<button data-i18n="getStarted">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</button>
<button data-i18n="learnMore">Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯</button>

<!-- Status badges -->
<span data-i18n="active">Ù†Ø´Ø·</span>
```

### Update Language Function

```javascript
function updateLanguage(lang) {
    // Update all translatable elements
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });

    // Update document direction and language
    const html = document.documentElement;
    if (lang === 'ar') {
        html.setAttribute('dir', 'rtl');
        html.setAttribute('lang', 'ar');
    } else {
        html.setAttribute('dir', 'ltr');
        html.setAttribute('lang', 'en');
    }

    // Save preference
    localStorage.setItem('language', lang);
}
```

---

## RTL/LTR Support

### Direction-Aware CSS

```css
/* Base styles work for both directions */
.card {
    padding: 1.5rem;
    border-radius: 0.75rem;
}

/* LTR-specific styles */
[dir="ltr"] .card {
    text-align: left;
}

[dir="ltr"] .icon-start {
    margin-right: 0.5rem;
}

/* RTL-specific styles */
[dir="rtl"] .card {
    text-align: right;
}

[dir="rtl"] .icon-start {
    margin-left: 0.5rem;
}
```

### Table Alignment

```css
/* LTR tables */
[dir="ltr"] th,
[dir="ltr"] td {
    text-align: left;
}

[dir="ltr"] .text-end {
    text-align: right;
}

/* RTL tables */
[dir="rtl"] th,
[dir="rtl"] td {
    text-align: right;
}

[dir="rtl"] .text-end {
    text-align: left;
}
```

### Flexbox Direction

```css
/* Auto-reversing flex containers */
.flex-row {
    display: flex;
    flex-direction: row;
}

[dir="rtl"] .flex-row-reverse-rtl {
    flex-direction: row-reverse;
}
```

### Logical Properties (Modern CSS)

```css
/* Use logical properties for automatic RTL support */
.card {
    /* Instead of: margin-left: 1rem; */
    margin-inline-start: 1rem;

    /* Instead of: padding-right: 2rem; */
    padding-inline-end: 2rem;

    /* Instead of: border-left: 2px solid; */
    border-inline-start: 2px solid;

    /* Instead of: text-align: left; */
    text-align: start;
}
```

### Transform Mirroring

```css
/* Mirror icons in RTL */
[dir="rtl"] .icon-arrow-right {
    transform: scaleX(-1);
}

[dir="rtl"] .icon-chevron {
    transform: rotate(180deg);
}
```

---

## Language Toggle

### Basic Toggle Button

```html
<button id="lang-toggle"
        onclick="toggleLanguage()"
        class="px-4 py-2 rounded-lg font-medium transition-all duration-200"
        style="background: var(--bg-elevated);
               border: 1px solid var(--border-default);
               color: var(--text-primary);">
    EN
</button>
```

### Toggle Function

```javascript
let currentLang = localStorage.getItem('language') || 'ar';

function toggleLanguage() {
    currentLang = currentLang === 'ar' ? 'en' : 'ar';
    updateLanguage(currentLang);
    updateLangToggle(currentLang);
}

function updateLangToggle(lang) {
    const toggle = document.getElementById('lang-toggle');
    toggle.textContent = lang === 'ar' ? 'EN' : 'AR';
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
    updateLanguage(currentLang);
    updateLangToggle(currentLang);
});
```

### Dropdown Language Selector

```html
<div class="relative">
    <button id="lang-dropdown-btn"
            onclick="toggleLangDropdown()"
            class="flex items-center gap-2 px-4 py-2 rounded-lg"
            style="background: var(--bg-elevated); border: 1px solid var(--border-default);">
        <span id="current-lang-flag">ğŸ‡¸ğŸ‡¦</span>
        <span id="current-lang-name">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
        <span>â–¼</span>
    </button>

    <div id="lang-dropdown"
         class="hidden absolute top-full mt-2 w-40 rounded-lg shadow-lg overflow-hidden"
         style="background: var(--bg-surface); border: 1px solid var(--border-default);">
        <button onclick="setLanguage('ar')"
                class="w-full px-4 py-3 flex items-center gap-3 hover:bg-opacity-50"
                style="color: var(--text-primary);">
            <span>ğŸ‡¸ğŸ‡¦</span>
            <span>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
        </button>
        <button onclick="setLanguage('en')"
                class="w-full px-4 py-3 flex items-center gap-3 hover:bg-opacity-50"
                style="color: var(--text-primary);">
            <span>ğŸ‡¬ğŸ‡§</span>
            <span>English</span>
        </button>
    </div>
</div>
```

---

## Number and Currency Formatting

### Keep Numbers LTR

Numbers should always display left-to-right, even in RTL layouts:

```css
.number-display {
    font-family: 'Inter', 'JetBrains Mono', monospace;
    font-variant-numeric: tabular-nums;
    direction: ltr;
    unicode-bidi: embed;
}
```

```html
<!-- Numbers in RTL context -->
<div dir="rtl">
    <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span>
    <span class="number-display">$12,847.50</span>
</div>
```

### Currency Formatting by Language

```javascript
function formatCurrency(amount, lang) {
    if (lang === 'ar') {
        return new Intl.NumberFormat('ar-SA', {
            style: 'currency',
            currency: 'SAR'
        }).format(amount);
    } else {
        return new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD'
        }).format(amount);
    }
}

// Usage
formatCurrency(1250.50, 'ar');  // "Ù¡Ù¬Ù¢Ù¥Ù Ù«Ù¥Ù  Ø±.Ø³."
formatCurrency(1250.50, 'en');  // "$1,250.50"
```

### Date Formatting by Language

```javascript
function formatDate(date, lang) {
    return new Intl.DateTimeFormat(lang === 'ar' ? 'ar-SA' : 'en-US', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    }).format(date);
}

// Usage
formatDate(new Date(), 'ar');  // "Ù¢Ù¨ Ù†ÙˆÙÙ…Ø¨Ø± Ù¢Ù Ù¢Ù¤"
formatDate(new Date(), 'en');  // "November 28, 2024"
```

---

## Best Practices

### Do's

1. **Use `data-i18n` attributes** for all translatable text
2. **Keep numbers LTR** with `direction: ltr` on number containers
3. **Use logical CSS properties** (`margin-inline-start` instead of `margin-left`)
4. **Test both languages** during development
5. **Provide visual context** â€” don't rely on text alone

### Don'ts

1. **Don't hardcode text** in JavaScript
2. **Don't forget to update** the `lang` and `dir` attributes
3. **Don't assume** icon direction (arrows need mirroring)
4. **Don't use** left/right padding for content spacing
5. **Don't forget** to test form inputs in RTL mode

### Checklist

```markdown
- [ ] All text uses data-i18n attributes
- [ ] Translation object includes all keys for both languages
- [ ] Document has lang and dir attributes
- [ ] Numbers display correctly in both directions
- [ ] Tables align properly in RTL
- [ ] Icons mirror correctly when needed
- [ ] Form labels and inputs align correctly
- [ ] Language preference persists in localStorage
- [ ] Toggle button shows correct current language
```

---

## Complete Example

```html
<!DOCTYPE html>
<html lang="ar" dir="rtl" data-theme="dark">
<head>
    <script>
        const translations = {
            ar: { title: "Ù…Ø±Ø­Ø¨Ø§Ù‹", greeting: "Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ" },
            en: { title: "Hello", greeting: "Welcome" }
        };

        // Load saved language
        (function() {
            const lang = localStorage.getItem('language') || 'ar';
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
        })();
    </script>

    <style>
        .number-display {
            direction: ltr;
            unicode-bidi: embed;
        }
    </style>
</head>
<body>
    <h1 data-i18n="title">Ù…Ø±Ø­Ø¨Ø§Ù‹</h1>
    <p data-i18n="greeting">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ</p>
    <p>Total: <span class="number-display">$1,250.00</span></p>

    <button id="lang-toggle" onclick="toggleLanguage()">EN</button>

    <script>
        let currentLang = localStorage.getItem('language') || 'ar';

        function toggleLanguage() {
            currentLang = currentLang === 'ar' ? 'en' : 'ar';
            updateLanguage(currentLang);
        }

        function updateLanguage(lang) {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                el.textContent = translations[lang][key];
            });

            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('lang-toggle').textContent = lang === 'ar' ? 'EN' : 'AR';
            localStorage.setItem('language', lang);
        }

        document.addEventListener('DOMContentLoaded', () => updateLanguage(currentLang));
    </script>
</body>
</html>
```

---

## Related Documentation

- [Typography](TYPOGRAPHY.md)
- [Components](COMPONENTS.md)
- [Theme System](THEME_SYSTEM.md)

---

<div align="center">

[â† Back to Documentation](README.md)

</div>
